{% extends 'base.template.html' %}

{%block title %}
The Hawker Rant
{%endblock%}

{% block content %}
<div class="container mb-3">
    <div class="row">
        <div class="col-sm-10">
            {%for stall in stall_to_display %}
            {%for hawker in hawker_to_display %}
            <h2>{{stall.stall_name}}</h2>
            <h5>{{stall.hawker_centre}}</h5>
            <h5>{{hawker.address}}, {{stall.unit_no}}</h5>
            <h5 class="mb-3">Opening hours: {{stall.opening_hours}}</h5>
            <h6>Best known for {{stall.specialty}}</h6>
            {%endfor%}
            {%endfor%}
        </div>
        <div class="col-sm-2">
            <div class="d-flex justify-content-end">
                <a href="{{url_for('show_update_stall', stall_id=stall_id)}}" class="btn btn-primary mb-3">Edit
                    info</a>
            </div>
            <div class="d-flex justify-content-end">
                <a href="{{url_for('delete_stall', stall_id=stall_id)}}" class="btn btn-danger">Delete stall</a>
            </div>
        </div>
    </div>
</div>


<form class="container border border-1 rounded-3 card-body bg-light margin-custom-div" method="POST">
    <h4 class="margin-custom">Add a review!</h4>
    <div class="row mb-3">
        <label class="form-label col-sm-1">Username</label>
        <div class="col-sm-3">
            <input type="text" class="form-control col-sm-10" name="user_name">
        </div>
        <div class="col-sm-8">
        </div>
    </div>
    <div class="row mb-3">
        <label class="form-label col-sm-1">Comments</label>
        <div class="col-sm-9">
            <textarea class="form-control" name="comment" rows="3"></textarea>
        </div>
        <div class="col-sm-2 align-self-end d-flex justify-content-end">
            <input type="submit" class="btn btn-primary" value="Add review" />
        </div>
    </div>
</form>

<div class="container">
    <h2>Reviews</h2>
</div>


<div class="container margin-custom-div">
    {%for review in stall_reviews %}
    <div class="container border border-1 rounded-3 card-body margin-custom-div bg-light">
        <div class="row">
            <div class="col-sm-10">
                <h6>{{review.user_name}}</h6>
                <div class="container">
                    <p>{{review.comment}}</p>
                </div>
            </div>
            <div class="col-sm-2">
                <div class="d-flex justify-content-end">
                    <a href="{{url_for('show_update_review', review_id=review._id)}}"
                        class="btn btn-primary mb-3">Edit</a>
                </div>
                <div class="d-flex justify-content-end">
                    <a href="{{url_for('delete_review', review_id=review._id)}}" class="btn btn-danger">Delete</a>
                </div>
            </div>
        </div>
    </div>
    {%endfor%}
</div>


{% endblock %}